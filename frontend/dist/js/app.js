(function(){"use strict";var e={213:function(e,o,t){var l=t(751),r=t(641);const n={id:"app",class:"w-full h-full"};function s(e,o,t,l,s,a){const u=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",n,[((0,r.uX)(),(0,r.Wv)(u,{key:e.$route.fullPath}))])}var a={name:"App"},u=t(262);const i=(0,u.A)(a,[["render",s]]);var c=i,d=t(29),f=t(33);const y={class:"min-h-screen bg-white flex items-center justify-center p-4"},g={class:"bg-white rounded-lg p-8 max-w-2xl w-full border border-gray-200"},b={class:"flex gap-2"},p={class:"pt-4"},v=["disabled"];function x(e,o,t,n,s,a){const u=(0,r.g2)("ErrorModal");return(0,r.uX)(),(0,r.CE)("div",y,[(0,r.Lk)("div",g,[o[13]||(o[13]=(0,r.Lk)("h1",{class:"text-3xl font-bold text-gray-900 mb-8 text-center"},"Badger DB Manager",-1)),(0,r.Lk)("form",{onSubmit:o[5]||(o[5]=(0,l.D$)((...e)=>n.openDatabase&&n.openDatabase(...e),["prevent"])),class:"space-y-6"},[(0,r.Lk)("div",null,[o[7]||(o[7]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Database Folder Path ",-1)),(0,r.Lk)("div",b,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>n.form.path=e),type:"text",placeholder:"/path/to/badger/db (leave blank for in-memory run)",class:"flex-1 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500"},null,512),[[l.Jo,n.form.path]]),(0,r.Lk)("button",{type:"button",onClick:o[1]||(o[1]=(...e)=>n.selectFolder&&n.selectFolder(...e)),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500"}," Browse ")])]),(0,r.Lk)("div",null,[o[8]||(o[8]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Decryption Key (Optional) ",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>n.form.decryptionKey=e),type:"password",placeholder:"Enter decryption key if database is encrypted",class:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500"},null,512),[[l.Jo,n.form.decryptionKey]])]),(0,r.Lk)("div",null,[o[10]||(o[10]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Compression ",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":o[3]||(o[3]=e=>n.form.compression=e),class:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500"},[...o[9]||(o[9]=[(0,r.Lk)("option",{value:"none"},"None",-1),(0,r.Lk)("option",{value:"snappy"},"Snappy",-1),(0,r.Lk)("option",{value:"zstd"},"ZSTD",-1)])],512),[[l.u1,n.form.compression]])]),(0,r.Lk)("div",null,[o[11]||(o[11]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Key Delimiter (for nested key parsing) ",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>n.form.delimiter=e),type:"text",pattern:"[^a-zA-Z0-9]",maxlength:"1",placeholder:"/ or : or -",title:"Must be a special character (non-alphanumeric)",class:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500"},null,512),[[l.Jo,n.form.delimiter]]),o[12]||(o[12]=(0,r.Lk)("p",{class:"mt-1 text-sm text-gray-500"}," Use a special character like / : - _ to separate nested keys (e.g., items/book/123) ",-1))]),(0,r.Lk)("div",p,[(0,r.Lk)("button",{type:"submit",disabled:n.loading,class:"w-full px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-green-500"},(0,f.v_)(n.loading?"Opening Database...":"Open Database"),9,v)])],32)]),(0,r.bF)(u,{show:n.showError,message:n.errorMessage,onClose:o[6]||(o[6]=e=>n.showError=!1)},null,8,["show","message"])])}var m=t(953);function h(e){return window["go"]["main"]["App"]["Call"](e)}function k(){return window["go"]["main"]["App"]["OpenDirectoryDialog"]()}const w={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},L={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl"},E={class:"text-gray-700 mb-6"},C={class:"flex justify-end"};function F(e,o,t,l,n,s){return t.show?((0,r.uX)(),(0,r.CE)("div",w,[(0,r.Lk)("div",L,[o[1]||(o[1]=(0,r.Lk)("div",{class:"flex items-center mb-4"},[(0,r.Lk)("svg",{class:"w-6 h-6 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,r.Lk)("h3",{class:"text-lg font-semibold text-gray-900"},"Error")],-1)),(0,r.Lk)("p",E,(0,f.v_)(t.message),1),(0,r.Lk)("div",C,[(0,r.Lk)("button",{onClick:o[0]||(o[0]=o=>e.$emit("close")),class:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"}," Close ")])])])):(0,r.Q3)("",!0)}var K={name:"ErrorModal",props:{show:{type:Boolean,required:!0},message:{type:String,default:"An error occurred"}},emits:["close"]};const M=(0,u.A)(K,[["render",F]]);var S=M,O={name:"OpenDatabase",components:{ErrorModal:S},setup(){const e=(0,d.rd)(),o=(0,m.KR)(!1),t=(0,m.KR)(!1),l=(0,m.KR)(""),r=(0,m.KR)({path:"",decryptionKey:"",compression:"none",delimiter:"/"}),n=async()=>{const e=await k();"string"===typeof e&&(r.value.path=e)},s=e=>JSON.parse(e.body),a=async()=>{o.value=!0;try{const o={type:"open",body:JSON.stringify({path:r.value.path,decryption_key:r.value.decryptionKey,compression:r.value.compression,delimiter:r.value.delimiter})},n=await h(o);if("open"===n?.type){const o=s(n);return"ok"===o.status?(sessionStorage.setItem("delimiter",r.value.delimiter),sessionStorage.setItem("inmemory",`${o.inmemory}`),void await e.push("/manager")):(l.value=String(n.body??"Unknown error"),void(t.value=!0))}l.value="Unexpected response type",t.value=!0}catch(n){l.value="Failed to open database: "+String(n?.message||n),t.value=!0}finally{o.value=!1}};return{form:r,loading:o,showError:t,errorMessage:l,selectFolder:n,openDatabase:a}}};const R=(0,u.A)(O,[["render",x]]);var D=R;const X={class:"min-h-screen bg-gray-900 text-white"},A={class:"bg-gray-800 border-b border-gray-700 px-6 py-4"},j={class:"flex items-center justify-between"},B={class:"text-2xl font-bold flex items-center gap-3"},V={key:0,class:"text-xs font-semibold px-2 py-1 rounded bg-red-600 text-white"},J={class:"flex h-[calc(100vh-73px)]"},N={class:"w-96 bg-gray-800 border-r border-gray-700 flex flex-col"},T={class:"p-4 border-b border-gray-700"},I={class:"flex gap-2 mb-4"},Q={class:"flex-1 overflow-y-auto"},U={key:0,class:"p-4 text-center text-gray-400"},P={key:1,class:"p-4 text-center text-gray-400"},q={key:2},_=["onClick"],z={class:"flex flex-wrap gap-1"},H={key:0,class:"p-4 border-t border-gray-700"},$={class:"flex-1 flex flex-col"},W={key:0,class:"flex-1 flex items-center justify-center text-gray-500"},G={key:1,class:"flex-1 flex flex-col p-6"},Z={class:"mb-4"},Y={class:"flex flex-wrap gap-1 p-3 bg-gray-800 border border-gray-700 rounded"},ee={class:"mb-4 flex-1 flex flex-col"},oe={class:"flex keys-center justify-between mb-2"},te={class:"flex gap-2"},le=["disabled"],re=["disabled"],ne=["disabled"],se=["disabled"],ae=["readonly"],ue={key:0,class:"fixed inset-0 bg-black flex keys-center justify-center z-50"},ie={class:"bg-gray-800 rounded-lg p-6 max-w-2xl w-full mx-4 border border-gray-700"},ce={class:"mb-4"},de={class:"mb-4"},fe={class:"flex justify-end gap-2"},ye={key:1,class:"fixed inset-0 bg-black flex keys-center justify-center z-50"},ge={class:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700"},be={class:"flex justify-end gap-2"};function pe(e,o,t,n,s,a){const u=(0,r.g2)("ErrorModal");return(0,r.uX)(),(0,r.CE)("div",X,[(0,r.Lk)("div",A,[(0,r.Lk)("div",j,[(0,r.Lk)("h1",B,[o[21]||(o[21]=(0,r.eW)(" Badger DB Data Manager ",-1)),n.isInMemory?((0,r.uX)(),(0,r.CE)("span",V," IN MEMORY ")):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",J,[(0,r.Lk)("div",N,[(0,r.Lk)("div",T,[(0,r.Lk)("div",I,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>n.searchPrefix=e),type:"text",placeholder:"Search by prefix...",class:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500",onKeyup:o[1]||(o[1]=(0,l.jR)((...e)=>n.searchKeys&&n.searchKeys(...e),["enter"]))},null,544),[[l.Jo,n.searchPrefix]]),(0,r.Lk)("button",{onClick:o[2]||(o[2]=(...e)=>n.searchKeys&&n.searchKeys(...e)),class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500"}," Search "),n.isInSearch?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:o[3]||(o[3]=e=>n.loadKeys(!1)),class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500"}," âŽ ")):(0,r.Q3)("",!0)]),(0,r.Lk)("button",{onClick:o[4]||(o[4]=e=>n.showAddModal=!0),class:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-green-500"}," + Add New Entry ")]),(0,r.Lk)("div",Q,[n.loading?((0,r.uX)(),(0,r.CE)("div",U," Loading... ")):0===n.keys.length?((0,r.uX)(),(0,r.CE)("div",P," No entries found ")):((0,r.uX)(),(0,r.CE)("div",q,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.keys,e=>((0,r.uX)(),(0,r.CE)("div",{key:e,onClick:o=>n.selectKey(e),class:(0,f.C4)(["p-3 border-b border-gray-700 cursor-pointer hover:bg-gray-700",{"bg-gray-700":n.selectedKey===e}])},[(0,r.Lk)("div",z,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.parseKey(e),(e,o)=>((0,r.uX)(),(0,r.CE)("span",{key:o,class:"inline-block px-2 py-1 text-xs rounded font-medium",style:(0,f.Tr)({backgroundColor:n.getColor(o),color:"#fff"})},(0,f.v_)(e),5))),128))])],10,_))),128))]))]),n.cursor&&"end"!==n.cursor?((0,r.uX)(),(0,r.CE)("div",H,[(0,r.Lk)("button",{onClick:o[5]||(o[5]=(...e)=>n.loadMore&&n.loadMore(...e)),class:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500"}," Load More ")])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",$,[n.selectedKey?((0,r.uX)(),(0,r.CE)("div",G,[(0,r.Lk)("div",Z,[o[23]||(o[23]=(0,r.Lk)("h2",{class:"text-lg font-semibold mb-2"},"Key",-1)),(0,r.Lk)("div",Y,(0,f.v_)(n.selectedKey),1)]),(0,r.Lk)("div",ee,[(0,r.Lk)("div",oe,[o[24]||(o[24]=(0,r.Lk)("h2",{class:"text-lg font-semibold"},"Value",-1)),(0,r.Lk)("div",te,["none"===n.activeEncoding?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:o[6]||(o[6]=(...e)=>n.convertToBase64&&n.convertToBase64(...e)),class:(0,f.C4)(["px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500",{"opacity-50 cursor-not-allowed":n.editMode}]),disabled:n.editMode}," base64 ",10,le)):(0,r.Q3)("",!0),"base64"===n.activeEncoding?((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:o[7]||(o[7]=(...e)=>n.restoreOriginal&&n.restoreOriginal(...e)),class:(0,f.C4)(["px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-gray-500",{"opacity-50 cursor-not-allowed":n.editMode}]),disabled:n.editMode}," original ",10,re)):(0,r.Q3)("",!0),"none"===n.activeEncoding?((0,r.uX)(),(0,r.CE)("button",{key:2,onClick:o[8]||(o[8]=(...e)=>n.convertToHex&&n.convertToHex(...e)),class:(0,f.C4)(["px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500",{"opacity-50 cursor-not-allowed":n.editMode}]),disabled:n.editMode}," hex ",10,ne)):(0,r.Q3)("",!0),"hex"===n.activeEncoding?((0,r.uX)(),(0,r.CE)("button",{key:3,onClick:o[9]||(o[9]=(...e)=>n.restoreOriginal&&n.restoreOriginal(...e)),class:(0,f.C4)(["px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-gray-500",{"opacity-50 cursor-not-allowed":n.editMode}]),disabled:n.editMode}," original ",10,se)):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:o[10]||(o[10]=(...e)=>n.toggleEditMode&&n.toggleEditMode(...e)),class:"px-3 py-1 bg-yellow-600 text-white rounded hover:bg-yellow-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-yellow-500"},(0,f.v_)(n.editMode?"Cancel":"Edit"),1),n.editMode?((0,r.uX)(),(0,r.CE)("button",{key:4,onClick:o[11]||(o[11]=(...e)=>n.updateValue&&n.updateValue(...e)),class:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-green-500"}," Save ")):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:o[12]||(o[12]=(...e)=>n.confirmDelete&&n.confirmDelete(...e)),class:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-red-500"}," Delete ")])]),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":o[13]||(o[13]=e=>n.currentValue=e),readonly:!n.editMode,class:(0,f.C4)(["flex-1 p-3 bg-gray-800 border border-gray-700 rounded font-mono text-sm focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500",{"bg-gray-700":n.editMode}])},null,10,ae),[[l.Jo,n.currentValue]])])])):((0,r.uX)(),(0,r.CE)("div",W,[...o[22]||(o[22]=[(0,r.Lk)("div",{class:"text-center"},[(0,r.Lk)("p",{class:"text-xl"},"Select a key to view its value")],-1)])]))])]),n.showAddModal?((0,r.uX)(),(0,r.CE)("div",ue,[(0,r.Lk)("div",ie,[o[28]||(o[28]=(0,r.Lk)("h3",{class:"text-xl font-semibold mb-4"},"Add New Entry",-1)),(0,r.Lk)("form",{onSubmit:o[17]||(o[17]=(0,l.D$)((...e)=>n.addEntry&&n.addEntry(...e),["prevent"]))},[(0,r.Lk)("div",ce,[o[25]||(o[25]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-200 mb-2"},"Key",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[14]||(o[14]=e=>n.newEntry.key=e),type:"text",required:"",placeholder:"e.g., keys/book/123",class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500"},null,512),[[l.Jo,n.newEntry.key]])]),(0,r.Lk)("div",de,[o[26]||(o[26]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-200 mb-2"},"Value",-1)),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":o[15]||(o[15]=e=>n.newEntry.value=e),required:"",rows:"6",placeholder:"Enter value...",class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 font-mono text-sm focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-blue-500"},null,512),[[l.Jo,n.newEntry.value]])]),(0,r.Lk)("div",fe,[(0,r.Lk)("button",{type:"button",onClick:o[16]||(o[16]=e=>n.showAddModal=!1),class:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-gray-500"}," Cancel "),o[27]||(o[27]=(0,r.Lk)("button",{type:"submit",class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-green-500"}," Add ",-1))])],32)])])):(0,r.Q3)("",!0),(0,r.bF)(u,{show:n.showError,message:n.errorMessage,onClose:o[18]||(o[18]=e=>n.showError=!1)},null,8,["show","message"]),n.showDeleteConfirm?((0,r.uX)(),(0,r.CE)("div",ye,[(0,r.Lk)("div",ge,[o[29]||(o[29]=(0,r.Lk)("h3",{class:"text-xl font-semibold mb-4"},"Confirm Delete",-1)),o[30]||(o[30]=(0,r.Lk)("p",{class:"mb-6 text-gray-300"},"Are you sure you want to delete this key?",-1)),(0,r.Lk)("div",be,[(0,r.Lk)("button",{onClick:o[19]||(o[19]=e=>n.showDeleteConfirm=!1),class:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-gray-500"}," Cancel "),(0,r.Lk)("button",{onClick:o[20]||(o[20]=(...e)=>n.deleteKey&&n.deleteKey(...e)),class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-red-500"}," Delete ")])])])):(0,r.Q3)("",!0)])}var ve={name:"DataManager",components:{ErrorModal:S},setup(){(0,d.rd)();const e=(0,m.KR)(sessionStorage.getItem("delimiter")||"/"),o=(0,m.KR)("true"===sessionStorage.getItem("inmemory")),t=(0,m.KR)([]),l=(0,m.KR)(null),n=(0,m.KR)(""),s=(0,m.KR)(""),a=(0,m.KR)("none"),u=(0,m.KR)(!1),i=(0,m.KR)(!1),c=(0,m.KR)(""),f=(0,m.KR)(0),y=(0,m.KR)(!1),g=(0,m.KR)(null),b=(0,m.KR)(!1),p=(0,m.KR)(""),v=(0,m.KR)(!1),x=(0,m.KR)(!1),k=(0,m.KR)({key:"",value:""}),w=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"],L=e=>w[e%w.length],E=o=>{const t=o.startsWith(e.value)?o.slice(e.value.length):o;return t.split(e.value)},C=e=>JSON.parse(e.body),F=e=>"ok"===e,K=()=>{n.value=s.value,a.value="none"},M=e=>{let o="";const t=32768;for(let l=0;l<e.length;l+=t){const r=e.subarray(l,l+t);o+=String.fromCharCode(...r)}return btoa(o)},S=()=>{try{s.value=n.value;const e=new TextEncoder,o=e.encode(n.value);n.value=M(o),a.value="base64"}catch(e){console.error("[Frontend] Error converting to base64:",e),p.value="Failed to convert to base64: "+(e.message||e),b.value=!0}},O=()=>{try{s.value=n.value;const e=new TextEncoder,o=e.encode(n.value);n.value=Array.from(o).map(e=>e.toString(16).padStart(2,"0")).join(""),a.value="hex"}catch(e){console.error("[Frontend] Error converting to hex:",e),p.value="Failed to convert to hex: "+(e.message||e),b.value=!0}},R=()=>{u.value?(n.value=s.value,a.value="none"):K(),u.value=!u.value},D=async(e=!1)=>{i.value=!0,f.value=0,y.value=!1,c.value="";try{const o={type:"list",body:JSON.stringify({limit:20,cursor:e?g.value:null})};console.log("[Frontend] Sending list request:",o);const l=await h(o);if(console.log("[Frontend] Received list response:",l),"list"===l.type){const o=C(l);console.log("[Frontend] Parsed list data:",o),t.value=e?[...t.value,...o.keys||[]]:o.keys||[],g.value=o.cursor||null}else{const e=C(l);console.error("[Frontend] List operation failed:",e),p.value=e,b.value=!0}}catch(o){console.error("[Frontend] Error loading keys:",o),p.value="Failed to load keys: "+(o.message||o),b.value=!0}finally{i.value=!1}},X=()=>{D(!0)},A=async(e=!1)=>{i.value=!0,y.value||(t.value=[]),y.value=!0;let o=0;e&&(o=f.value);try{const l={type:"search",body:JSON.stringify({prefix:c.value,limit:20,offset:o})};console.log("[Frontend] Sending search request:",l);const r=await h(l);if(console.log("[Frontend] Received search response:",r),"search"===r.type){const o=C(r);console.log("[Frontend] Parsed search data:",o),t.value=e?[...t.value,...o.keys||[]]:o.keys||[],f.value+=o.offset}else{const e=C(r);console.error("[Frontend] Search operation failed:",e),p.value=e,b.value=!0}}catch(l){console.error("[Frontend] Error searching keys:",l),p.value="Failed to search keys: "+(l.message||l),b.value=!0}finally{i.value=!1}},j=()=>{A(y.value)},B=async e=>{l.value=e,u.value=!1,a.value="none";try{const o={type:"get",body:JSON.stringify({key:e})};console.log("[Frontend] Sending get request:",o);const t=await h(o);if(console.log("[Frontend] Received get response:",t),"get"===t.type){const e=C(t);console.log("[Frontend] Parsed get data:",e),n.value=e.value,s.value=e.value}else{const e=C(t);console.error("[Frontend] Get operation failed:",e),p.value=e,b.value=!0}}catch(o){console.error("[Frontend] Error getting value:",o),p.value="Failed to get value: "+(o.message||o),b.value=!0}},V=async()=>{try{const e="none"===a.value?n.value:s.value,o={type:"set",body:JSON.stringify({key:l.value,value:e})};console.log("[Frontend] Sending set request:",o);const t=await h(o);console.log("[Frontend] Received set response:",t);const r=t.body;console.log("[Frontend] Set response text:",r),F(r)?(u.value=!1,n.value=e,s.value=e,a.value="none",await D()):(console.error("[Frontend] Set operation failed:",r),p.value=r,b.value=!0)}catch(e){console.error("[Frontend] Error updating value:",e),p.value="Failed to update value: "+(e.message||e),b.value=!0}},J=()=>{x.value=!0},N=async()=>{try{const e={type:"delete",body:JSON.stringify({key:l.value})};console.log("[Frontend] Sending delete request:",e);const o=await h(e);console.log("[Frontend] Received delete response:",o);const t=o.body;console.log("[Frontend] Delete response text:",t),F(t)?(x.value=!1,l.value=null,n.value="",s.value="",a.value="none",await D()):(console.error("[Frontend] Delete operation failed:",t),p.value=t,b.value=!0)}catch(e){console.error("[Frontend] Error deleting key:",e),p.value="Failed to delete key: "+(e.message||e),b.value=!0}},T=async()=>{try{const e={type:"set",body:JSON.stringify({key:k.value.key,value:k.value.value})};console.log("[Frontend] Sending add entry request:",e);const o=await h(e);console.log("[Frontend] Received add entry response:",o);const t=o.body;console.log("[Frontend] Add entry response text:",t),F(t)?(v.value=!1,k.value={key:"",value:""},await D()):(console.error("[Frontend] Add entry operation failed:",t),p.value=t,b.value=!0)}catch(e){console.error("[Frontend] Error adding entry:",e),p.value="Failed to add entry: "+(e.message||e),b.value=!0}};return(0,r.sV)(()=>{D()}),{keys:t,selectedKey:l,currentValue:n,editMode:u,loading:i,searchPrefix:c,searchOffset:f,isInSearch:y,isInMemory:o,cursor:g,showError:b,errorMessage:p,showAddModal:v,showDeleteConfirm:x,newEntry:k,activeEncoding:a,parseKey:E,getColor:L,loadKeys:D,searchKeys:A,loadMore:X,searchMore:j,selectKey:B,updateValue:V,confirmDelete:J,deleteKey:N,addEntry:T,convertToBase64:S,convertToHex:O,restoreOriginal:K,toggleEditMode:R}}};const xe=(0,u.A)(ve,[["render",pe]]);var me=xe;const he=[{path:"/",name:"OpenDatabase",component:D},{path:"/manager",name:"DataManager",component:me}],ke=(0,d.aE)({history:(0,d.Bt)(),routes:he});var we=ke;const Le=(0,l.Ef)(c);Le.config.errorHandler=function(e,o,t){console.error("GLOBAL ERROR HANDLER:",e,t)},Le.use(we),Le.mount("#app")}},o={};function t(l){var r=o[l];if(void 0!==r)return r.exports;var n=o[l]={exports:{}};return e[l](n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(o,l,r,n){if(!l){var s=1/0;for(c=0;c<e.length;c++){l=e[c][0],r=e[c][1],n=e[c][2];for(var a=!0,u=0;u<l.length;u++)(!1&n||s>=n)&&Object.keys(t.O).every(function(e){return t.O[e](l[u])})?l.splice(u--,1):(a=!1,n<s&&(s=n));if(a){e.splice(c--,1);var i=r();void 0!==i&&(o=i)}}return o}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[l,r,n]}}(),function(){t.d=function(e,o){for(var l in o)t.o(o,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:o[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){var e={524:0,869:0};t.O.j=function(o){return 0===e[o]};var o=function(o,l){var r,n,s=l[0],a=l[1],u=l[2],i=0;if(s.some(function(o){return 0!==e[o]})){for(r in a)t.o(a,r)&&(t.m[r]=a[r]);if(u)var c=u(t)}for(o&&o(l);i<s.length;i++)n=s[i],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(c)},l=self["webpackChunkbadger_gui"]=self["webpackChunkbadger_gui"]||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))}();var l=t.O(void 0,[869,504],function(){return t(213)});l=t.O(l)})();